var ISMCTS = require('../search/ismcts.js').ISMCTS;
var stringify = require('json-stringify-safe');
var Dumper = require('./dumper.js');
var Minimax = require('../search/minimax.js').Minimax;

var seedrandom = require('seedrandom');
var rng = seedrandom();

var Sueca = require('../games/sueca').Sueca;
var MiniSueca = require('../games/mini-sueca').MiniSueca;
var Bisca = require('../games/bisca').Bisca;
var Hearts = require('../games/hearts').Hearts;

var Game = Sueca;

// var savedState = {"game":{"currentPlayer":3,"hands":[[],[],[],["A♠","Q♣","5♥","2♣","Q♠","4♦","K♦","7♠","7♥"]],"trump":"♦","trick":["6♥","A♥","3♥",null],"trumpCard":"3♦","trumpPlayer":1,"wonCards":[["2♦","4♣","J♣","A♣"],[],[],[]],"round":2,"suitToFollow":"♥","hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":false},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":{"i":0,"j":108,"S":[134,4,140,191,100,118,9,59,153,251,196,157,215,47,68,91,235,15,111,13,32,107,20,213,241,115,81,123,201,137,204,23,53,37,75,181,207,131,26,39,30,65,203,189,234,28,182,237,214,178,146,164,55,247,2,255,109,88,230,124,43,94,7,116,228,0,192,119,5,102,125,101,145,113,70,139,162,71,114,209,129,141,184,195,54,12,117,151,31,11,248,193,150,172,226,77,14,186,154,50,211,242,216,231,67,74,41,175,133,69,6,78,21,168,199,61,93,187,18,45,246,169,249,232,250,103,225,105,22,35,73,92,90,142,95,128,148,58,220,190,233,40,160,27,171,223,80,132,218,224,44,188,83,10,254,138,238,136,185,56,208,108,62,97,1,122,197,3,84,217,205,144,159,194,130,176,19,222,180,212,104,121,147,155,158,240,24,120,46,202,89,52,198,8,126,85,34,112,243,72,167,227,174,106,76,51,38,79,36,156,244,143,221,96,161,60,17,152,206,245,48,42,135,49,163,200,239,82,16,179,33,229,29,170,210,149,98,99,87,110,57,64,253,127,63,236,219,173,165,177,25,86,166,66,252,183]},"player":3,"iterations":10000};

// var savedState = {"game":{"currentPlayer":1,"hands":[[],["4♥","4♦","K♦","J♣","2♠","5♣","J♥","2♦","7♦","K♣"],[],[]],"trump":"♣","trick":[null,null,null,null],"trumpCard":"3♣","trumpPlayer":0,"wonCards":[[],[],[],[]],"round":1,"suitToFollow":null,"hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":{"i":0,"j":20,"S":[67,54,108,170,63,64,203,207,221,155,184,92,204,182,40,158,219,113,49,183,50,102,225,147,248,149,209,193,72,241,253,157,196,75,60,100,245,38,202,87,230,212,103,224,24,237,195,236,107,137,220,243,227,25,188,165,252,172,12,134,153,47,0,143,139,168,181,223,231,21,33,161,176,197,106,36,205,18,199,254,53,95,5,206,185,235,123,142,41,88,22,58,133,85,109,151,146,80,216,234,251,239,23,77,48,213,115,166,1,148,229,214,79,104,15,173,66,159,160,174,189,169,180,10,164,240,129,178,93,247,42,126,11,26,250,71,116,43,124,122,162,90,140,91,179,175,32,117,89,226,194,3,135,20,14,136,154,101,171,121,61,190,217,150,128,167,145,114,112,131,74,211,97,29,105,62,111,98,132,210,76,27,120,46,52,191,242,94,73,186,4,238,152,68,125,246,198,86,30,119,233,59,130,56,96,13,192,44,37,6,249,28,17,83,16,118,7,208,9,141,215,69,78,138,51,228,39,200,255,156,70,201,31,127,55,244,163,2,57,144,218,45,19,110,222,84,34,187,99,8,177,81,65,82,35,232]},"player":1,"iterations":10000}

// A or 7 in hand, what to use first
// var savedState = {"game":{"currentPlayer":3,"hands":[[],[],[],["J♥","A♠","J♠","6♥","7♠","Q♠","7♥","5♦","4♦","Q♥"]],"trump":"♣","trick":[null,null,null,null],"trumpCard":"7♣","trumpPlayer":2,"wonCards":[[],[],[],[]],"round":1,"suitToFollow":null,"hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":{"i":0,"j":173,"S":[180,111,205,246,14,179,252,136,185,12,40,17,133,114,43,62,235,67,0,130,184,196,157,197,217,41,169,115,50,58,142,147,25,165,168,122,42,89,51,93,224,27,26,152,201,216,189,37,36,174,105,228,193,48,57,144,207,172,59,153,127,79,75,214,186,242,94,86,243,159,148,77,63,68,81,250,3,10,103,34,206,233,128,199,253,237,30,166,74,90,182,248,240,254,29,236,171,102,155,4,160,162,84,150,215,255,188,178,2,7,66,18,137,53,110,116,80,139,167,121,78,113,219,146,251,23,232,195,163,100,226,154,88,239,61,13,65,108,125,19,60,173,5,98,204,134,46,31,170,183,22,131,45,247,211,231,28,176,70,202,32,156,52,181,161,129,203,9,151,109,132,145,119,64,194,20,245,241,143,200,21,192,95,164,120,85,238,55,177,158,138,101,213,135,69,244,190,72,49,44,218,141,112,149,16,6,230,106,187,83,24,82,76,1,54,96,71,117,126,33,104,223,208,225,229,38,198,92,91,234,220,140,123,73,11,47,97,221,99,124,222,15,39,227,249,209,56,35,8,175,210,191,87,118,212,107]},"player":3,"iterations":10000};

// var savedState = {"game":{"currentPlayer":1,"hands":[[],["6♠","6♣","3♥","6♦","J♣","J♦","2♦","A♥"],[],[]],"trump":"♣","trick":["4♥",null,null,null],"trumpCard":"7♣","trumpPlayer":2,"wonCards":[["2♣","3♠","2♠","A♠"],[],[],["5♠","K♠","4♠","7♠"]],"round":3,"suitToFollow":"♥","hasSuits":[{"♠":false,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":{"i":0,"j":63,"S":[167,66,76,155,14,147,226,99,144,199,196,72,224,100,218,168,142,180,63,109,85,221,246,138,52,107,94,106,22,77,119,236,162,160,59,214,124,241,208,164,40,39,154,240,112,24,6,132,11,235,253,35,250,15,105,115,178,165,186,56,148,133,81,143,32,34,20,182,198,255,141,135,249,2,242,254,211,151,88,171,174,70,64,201,37,244,110,61,67,58,179,62,111,137,86,139,75,188,202,50,200,234,51,189,176,93,12,127,161,26,183,220,18,219,252,225,203,16,3,0,152,78,69,233,73,21,136,213,101,90,80,157,84,43,131,54,79,36,82,140,210,230,191,47,25,156,31,192,195,30,4,206,29,245,96,193,44,104,38,45,23,89,27,187,123,92,103,209,146,60,121,114,71,74,48,205,130,227,223,134,169,87,42,145,190,216,10,194,153,175,91,177,158,243,57,231,41,204,215,128,150,166,125,83,49,116,228,95,98,17,65,118,53,251,248,19,113,129,9,222,68,232,184,181,163,97,28,13,126,108,229,117,102,217,212,5,8,7,239,237,197,238,33,207,172,149,120,173,159,247,170,46,185,55,1,122]},"player":1,"iterations":10000};

// var savedState = {"game":{"currentPlayer":3,"hands":[[],[],[],["K♥","J♥","7♥","3♥","A♣","J♠","6♦","5♠","6♠"]],"trump":"♣","trick":[null,null,null,null],"trumpCard":"2♣","trumpPlayer":2,"wonCards":[[],[],[],["2♦","Q♦","4♦","A♦"]],"round":2,"suitToFollow":null,"hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":{"i":0,"j":121,"S":[5,111,224,182,249,129,89,38,29,153,116,113,117,32,43,98,192,77,138,125,64,196,21,33,130,165,10,181,49,8,220,132,50,107,65,227,228,102,247,175,22,56,134,226,169,156,96,176,92,214,34,191,67,222,207,198,47,250,221,205,162,122,12,78,242,211,59,193,135,236,63,103,210,184,81,174,186,172,7,71,234,173,119,188,146,199,251,126,203,167,202,123,62,15,204,53,254,212,237,35,225,42,219,255,208,155,157,72,151,190,163,120,99,252,45,144,39,73,20,106,30,58,2,60,195,159,115,230,27,170,164,17,244,46,158,253,147,216,246,51,243,28,128,76,194,68,218,248,37,84,87,215,118,131,109,133,93,79,104,105,206,209,180,83,177,139,200,166,127,187,94,6,239,160,201,86,231,52,223,88,97,85,57,152,31,161,61,154,112,148,189,149,3,217,44,179,213,1,145,141,168,9,19,110,238,25,11,232,80,41,90,24,26,66,136,36,95,229,185,55,70,69,121,82,74,48,178,40,13,18,143,14,240,183,150,140,114,108,233,16,0,75,23,4,137,54,171,235,91,142,124,101,241,100,197,245]},"player":3,"iterations":10000}

// 4 card game
// var savedState = {"game":{"currentPlayer":3,"hands":[[],[],[],["K♦","Q♥","J♦","2♠"]],"trump":null,"trick":[null,null,null,null],"trumpCard":"A♣","trumpPlayer":2,"wonCards":[["A♠","7♠","6♠","5♠","4♠","3♠"],["A♥","7♥","6♥","5♥","4♥","3♥"],["A♦","7♦","6♦","5♦","4♦","3♦"],["A♣","7♣","6♣","5♣","4♣","3♣"]],"round":7,"suitToFollow":null,"hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"player":3};


// 3 card game
// var savedState = {"game":{"currentPlayer":3,"hands":[[],[],[],["K♦","Q♥","2♠"]],"trump":null,"trick":[null,null,null,null],"trumpCard":"A♣","trumpPlayer":2,"wonCards":[["A♠","7♠","J♠","6♠","5♠","4♠","3♠"],["A♥","7♥","J♥","6♥","5♥","4♥","3♥"],["A♦","7♦","J♦","6♦","5♦","4♦","3♦"],["A♣","7♣","J♣","6♣","5♣","4♣","3♣"]],"round":8,"suitToFollow":null,"hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"player":3};

// 2 card game
// var savedState = {"game":{"currentPlayer":3,"hands":[[],[],[],["K♦","2♠"]],"trump":null,"trick":[null,null,null,null],"trumpCard":"A♣","trumpPlayer":2,"wonCards":[["A♠","7♠","Q♠","J♠","6♠","5♠","4♠","3♠"],["A♥","7♥","Q♥","J♥","6♥","5♥","4♥","3♥"],["A♦","7♦","Q♦","J♦","6♦","5♦","4♦","3♦"],["A♣","7♣","Q♣","J♣","6♣","5♣","4♣","3♣"]],"round":9,"suitToFollow":null,"hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"player":3};

// var savedState = {"game":{"currentPlayer":0,"hands":[["2♠","2♦","Q♥"],[],[],[]],"trump":"♠","trick":[null,null,null,null],"trumpCard":"K♠","trumpPlayer":3,"wonCards":[[],[],[],[]],"round":1,"suitToFollow":null,"hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":null,"player":0};

// bisca, should play the easy A♥
// var savedState = {"game":{"numberOfPlayers":2,"currentPlayer":1,"deck":[null,"A♣"],"hands":[["A♥","J♣","4♣","6♠","2♦","Q♠","5♥","2♣","4♠"],[null,null,null,null,null,null,null,null]],"trick":[null,"K♥"],"trumpCard":"A♣","trump":"♣","wonCards":[["5♠","2♠","A♠","J♠","7♣","Q♥","2♥","Q♦","4♥","J♦"],["6♥","7♥","3♦","4♦","3♠","5♦","3♥","6♦","K♠","7♠"]],"round":11,"suitToFollow":"♥","hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":{"i":0,"j":120,"S":[166,95,4,92,192,218,206,65,107,10,26,178,212,49,24,30,31,83,59,119,167,153,227,128,93,160,170,181,142,243,193,136,174,228,121,56,158,69,41,117,77,103,123,5,118,239,157,134,223,100,179,112,57,152,50,252,210,229,143,131,61,11,221,122,80,144,132,71,73,189,207,22,66,253,194,114,164,135,195,35,138,45,13,86,68,42,211,0,21,238,249,156,85,197,127,1,89,111,94,18,115,159,34,188,25,33,27,208,219,169,186,205,200,133,101,196,125,78,154,183,191,215,222,146,14,247,251,102,234,161,40,7,39,173,54,16,203,74,245,48,15,163,53,255,2,109,84,47,155,60,148,130,63,240,98,76,236,108,38,99,19,20,225,75,52,46,199,90,140,217,88,113,72,190,204,176,106,232,233,67,139,168,55,8,87,147,70,91,184,105,244,17,137,81,23,224,43,150,216,110,64,36,177,171,248,202,129,172,180,231,29,214,165,198,182,241,213,226,104,32,235,162,9,124,44,145,58,6,237,209,62,120,3,97,149,254,126,201,96,187,51,242,116,175,246,12,151,79,82,220,250,28,37,141,230,185]},"player":1,"iterations":10000};
  
//var savedState = {"game":{"numberOfPlayers":2,"currentPlayer":2,"deck":[],"hands":[[null,null,"K♣"],["2♥","4♥","2♣","6♦"]],"trick":["3♠",null],"trumpCard":"K♣","trump":"♣","wonCards":[["Q♣","Q♥","J♠","2♠","5♣","5♥","3♣","4♦","6♣","6♠","A♣","3♦","7♣","5♦","4♣","4♠","J♦","Q♦","K♥","6♥","7♠","5♠","A♦","K♦","Q♠","A♥"],["2♦","7♦","A♠","J♣","3♥","7♥"]],"round":17,"suitToFollow":"♠","hasSuits":[{"♠":false,"♥":true,"♦":true,"♣":true},{"♠":false,"♥":true,"♦":true,"♣":true}]},"rng":{"i":0,"j":62,"S":[24,198,67,243,62,77,214,244,204,237,104,26,213,124,15,129,31,241,63,23,182,19,255,112,117,68,206,159,66,83,122,252,200,195,61,58,86,183,234,253,203,41,216,5,132,227,46,11,134,45,192,76,242,240,125,140,0,189,145,17,87,108,146,70,32,161,75,69,162,225,235,82,155,131,174,191,212,248,230,165,9,229,35,236,144,3,254,116,188,128,172,194,27,171,14,228,137,54,12,2,28,107,130,197,43,30,101,55,186,42,20,164,73,136,25,97,7,89,4,121,8,105,103,93,133,72,187,150,65,153,178,219,211,151,78,71,160,220,18,166,114,168,249,51,221,218,126,53,37,176,251,226,85,100,215,180,148,217,245,91,205,102,163,135,115,36,47,57,111,49,90,106,44,181,246,149,110,199,173,74,208,247,156,60,201,232,196,50,123,33,231,127,34,143,109,38,233,92,84,157,184,154,175,79,88,167,6,224,119,94,120,48,158,222,190,59,118,98,169,152,10,80,52,250,177,64,142,141,170,40,147,138,1,96,95,185,179,16,81,223,209,113,99,207,21,202,139,39,22,56,193,239,210,13,238,29]},"player":2,"iterations":10000};

// hearts, could use the Q♠ but the leading player has 0% chance of winning, so the card is kept, why?
// var savedState = {"game":{"isHeartsBroken": true, "currentPlayer":3,"hands":[[null,null,null],[null,null,null],["Q♠","6♥","K♥","7♦"],[null,null,null]],"trick":["J♥","8♥",null,"A♣"],"wonCards":[["J♣","7♣","9♣","2♣","1♠","8♣","8♠","7♠"],["J♦","K♦","1♦","3♦","9♦","A♦","Q♦","8♦"],["K♠","2♠","A♠","J♠","2♦","4♦","6♦","Q♣"],["3♠","6♣","6♠","9♠","3♣","4♣","5♣","1♣","A♥","7♥","4♠","5♠"]],"round":10,"suitToFollow":"♣","receivedHearts":[false,false,false,true],"hasSuits":[{"♠":false,"♥":true,"♦":true,"♣":false},{"♠":false,"♥":true,"♦":true,"♣":false},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":false,"♣":true}]},"rng":{"i":0,"j":134,"S":[188,211,21,69,31,0,255,109,78,169,163,165,18,3,59,37,201,170,206,87,112,106,207,210,38,249,127,123,164,111,135,115,56,65,93,248,9,145,168,41,233,81,34,6,241,180,53,90,23,94,154,76,82,60,104,1,103,156,197,83,43,138,208,185,227,124,114,91,140,161,243,102,107,130,220,179,213,160,92,152,49,212,200,192,44,214,64,153,144,186,247,190,159,8,173,52,136,68,177,251,11,182,236,125,122,4,253,146,16,98,178,252,129,61,80,183,48,195,86,133,155,63,216,204,189,191,22,47,187,45,229,58,184,219,113,157,134,235,232,105,148,149,20,242,19,29,66,174,70,28,7,25,67,141,250,226,218,73,194,33,175,79,239,224,100,193,228,166,215,95,35,246,75,245,77,13,238,50,209,118,176,71,131,62,2,223,240,181,203,147,119,151,101,132,126,5,121,99,14,26,128,117,244,110,222,42,89,85,24,237,225,139,143,142,74,10,17,57,231,72,150,162,199,36,54,234,96,230,40,12,55,51,158,46,196,221,172,198,205,32,88,116,15,254,217,30,84,167,97,39,108,171,137,120,27,202]},"player":3,"iterations":10000}

//var savedState = {"game":{"hands":[["6♦","6♠","2♣","1♣","A♥","4♣","7♠","A♦","6♥","9♦","4♥","2♠","7♦"],[null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null]],"trick":[null,null,null,null],"wonCards":[[],[],[],[]],"round":1,"suitToFollow":null,"receivedHearts":[false,false,false,false],"score":[0,0,0,0],"hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":{"i":0,"j":14,"S":[194,207,102,146,41,118,121,21,210,7,155,112,70,174,135,152,27,220,123,73,159,200,252,246,11,253,91,51,144,2,229,213,67,122,108,94,8,145,82,180,156,115,77,34,64,184,202,46,53,150,162,74,80,170,40,234,149,127,216,99,192,63,65,204,175,84,250,45,139,157,56,201,239,209,182,188,25,190,55,251,186,172,44,198,32,3,109,19,219,58,187,208,143,248,245,171,4,36,133,230,243,10,17,113,153,126,231,9,78,83,138,197,76,61,247,218,222,95,233,244,129,167,116,132,97,160,151,249,71,130,125,235,111,86,38,131,66,23,15,5,225,212,33,103,105,85,254,242,173,147,26,110,35,87,39,22,42,90,20,232,240,18,119,69,1,72,13,100,203,52,137,31,98,211,120,217,107,223,183,177,104,195,88,158,214,237,221,164,16,179,79,238,47,124,163,48,141,255,106,68,96,206,205,148,199,193,226,178,6,196,136,101,28,50,176,93,30,161,29,92,62,224,154,215,0,227,24,43,89,168,142,75,81,60,128,166,185,169,114,59,57,241,140,37,49,134,236,14,12,117,165,228,189,54,191,181]},"player":0,"iterations":10000};

// bisca, why not give points and play low card to preserve the turn?
// var savedState = {"game":{"numberOfPlayers":2,"currentPlayer":1,"deck":[],"hands":[["A♦","7♥","7♦","K♦","K♠","K♥","Q♠","4♥","4♦"],[null,null,null,null,null,null,null,null]],"trick":[null,"5♦"],"trumpCard":"4♦","trump":"♦","wonCards":[["A♠","6♠","6♦","3♣","5♠","3♠","7♣","2♣","2♠","6♥","3♦","5♥"],["4♣","A♣","6♣","K♣","4♠","7♠","2♥","J♥","3♥","5♣"]],"round":12,"suitToFollow":"♦","hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":{"i":247,"j":90,"S":[121,172,60,81,214,94,2,178,247,181,39,254,166,227,23,82,234,212,218,57,101,148,153,42,77,128,59,160,180,145,89,7,126,96,236,196,15,142,208,243,56,54,3,25,85,32,219,156,220,158,162,103,223,252,141,161,150,171,72,244,198,151,203,235,5,149,11,200,226,170,84,187,45,30,70,132,229,105,28,168,157,125,69,228,67,209,147,102,146,116,241,74,50,40,27,130,127,211,138,199,4,221,111,251,108,250,13,255,91,88,65,66,225,38,52,201,174,61,47,6,95,49,136,37,99,71,140,36,62,26,109,0,143,120,205,215,97,159,68,253,100,249,34,55,41,246,16,177,44,194,217,90,117,179,31,239,175,51,20,29,83,216,33,46,87,98,107,118,119,232,192,183,190,24,152,8,80,9,176,124,92,206,93,73,1,224,184,207,112,213,189,18,79,76,167,22,144,122,48,113,137,53,155,210,64,154,78,43,240,248,202,204,86,169,123,139,134,115,106,173,242,58,165,237,230,191,131,12,188,104,163,35,21,114,182,238,75,129,17,222,14,193,10,195,110,186,63,245,197,133,135,233,164,19,231,185]},"player":1,"iterations":10000}

var savedState = {"game":{"currentPlayer":3,"hands":[[],[],[],["K♦","K♥","2♣","A♣","3♣","Q♣","2♥","4♣"]],"trump":"♣","trick":[null,null,null,null],"trumpCard":"5♣","trumpPlayer":0,"wonCards":[["A♦","7♦","Q♦","4♦"],[],[],["6♠","5♠","3♠","A♠"]],"round":3,"suitToFollow":null,"hasSuits":[{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true},{"♠":true,"♥":true,"♦":true,"♣":true}]},"rng":{"i":48,"j":208,"S":[65,169,6,39,241,60,58,212,15,152,86,77,155,109,121,78,91,94,138,172,159,205,79,75,48,73,66,28,117,24,20,103,133,135,116,111,90,81,227,157,1,162,250,247,168,202,89,210,171,140,35,196,71,209,226,72,69,27,149,22,184,200,57,219,221,45,83,49,12,165,148,218,84,179,161,5,108,42,153,13,232,41,223,59,14,248,30,182,101,251,187,147,194,173,125,8,215,192,211,213,50,56,68,197,239,137,29,115,238,225,105,124,32,206,144,61,198,199,130,183,231,167,87,255,242,43,216,120,17,88,11,191,10,180,18,62,92,26,208,74,154,104,230,234,126,36,151,106,158,214,245,195,119,229,150,233,176,128,252,21,97,98,177,93,185,254,237,201,131,207,156,25,64,220,235,217,141,46,145,4,96,189,118,112,166,47,95,37,19,224,134,246,236,33,146,132,85,123,253,181,160,142,80,54,70,193,204,9,175,186,136,143,40,249,44,51,163,113,0,34,228,203,31,3,188,129,38,170,100,63,52,53,164,76,23,127,7,190,114,55,99,178,110,240,107,67,122,2,222,102,174,16,82,243,139,244]},"player":3,"iterations":10000}

rng = seedrandom(null, { state: savedState.rng });

var game = new Game(savedState.game);

var util = require('util');
//console.log(util.inspect(a, {showHidden: false, depth: null}));

var mcts = new ISMCTS(game, 10000, savedState.player, rng);
//var minimax = new Minimax(game, savedState.player, 13);

//var minimaxMove = minimax.selectMove();


console.time('selectMove');
var move = mcts.selectMove();
console.timeEnd('selectMove');

console.log(game.getPrettyPlayerHand(game.currentPlayer));
console.log(game.currentPlayer + ' played ' + move  + '\n');
// console.log(game.currentPlayer + ' minimax played ' + minimaxMove  + '\n');
game.performMove(move);
console.time('save');
Dumper.saveAll('test.json', mcts);
console.timeEnd('save');
